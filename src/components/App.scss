@import "form.scss";
@import "menu.scss";
@import "fonts.scss";
@import "Document.scss";
@import "Hymn.scss";
@import "MainPage.scss";
@import "ManagePage.scss";
@import "Toolbar.scss";
@import "OptionsDialog.scss";
@import "SearchDialog.scss";

:root {
    font-size: 16px;
    transition: font-size 0.05s ease-out;

    --background: white;
    --color: black;
    --hover-color: #008cff;
    --focus-color: rebeccapurple;
    --disabled-color: hsl(0, 0%, 60%);
    --link-color: #003c8b;
    --outline-width: 2px;

    --document-font-family: Charter, "Georgia Pro", "Georgia", "Charter",
        "Times New Roman", Times, serif;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu,
        Cantarell, "Open Sans", "Helvetica Neue", sans-serif;

    --hover-outline: var(--outline-width) dashed var(--hover-color);
    --focus-outline: var(--outline-width) solid var(--focus-color);

    --panel-background: hsla(0, 0%, 80%, 0.9);
    --control-active-background: #b7e3f0;
    --control-background: hsla(0, 0%, 93%, 0.9);
    --control-border-color: black;
    --control-border: 1px solid var(--control-border-color);
    --control-height: 2.25em;
    --control-outline-offset: -5px;
    --control-background-blur: blur(0.09em);

    --toolbar-scale-factor: 1.25;
    --toolbar-background: transparent;
    --toolbar-border: none;
    --toolbar-gap: 0.5rem;
    --toolbar-height: calc(
        var(--toolbar-scale-factor) * var(--control-height) + var(--toolbar-gap)
    );
    --toolbar-item-box-shadow: 0 0 6px rgba(0, 0, 0, 0.25);

    --dialog-inline-block: var(--toolbar-height);

    &[data-color-scheme="dark"] {
        --background: black;
        --color: white;
        --hover-color: yellow;
        --link-color: #aed1ff;
        --disabled-color: hsl(0, 0%, 40%);

        --panel-background: hsla(216, 12%, 8%, 0.9);
        --control-border-color: hsl(216, 8%, 40%);
        // --control-border-color: hsl(44, 74%, 30%);
        --control-border-color: rgb(131, 115, 148);
        --outline-width: 1px;
        --control-background: hsl(270, 5%, 15%);
        --control-active-background: hsl(197, 52%, 32%);

        // --toolbar-background: black;
        // --toolbar-border: 1px solid #7a828e;
        // --toolbar-item-box-shadow: none;

        --dialog-inline-block: calc(var(--toolbar-height) + var(--toolbar-gap));
        scrollbar-color: grey #1d1d1d;
    }

    text-size-adjust: none;
    -webkit-text-size-adjust: none;
}

html,
body,
#root {
    height: 100%;
}

body {
    margin: 0;
    overscroll-behavior: none;
    font: -apple-system-body;
    font-family: system-ui, "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
    line-height: 1.25;
    color: var(--color);
    background-color: var(--background);
    box-sizing: border-box;
    & * {
        box-sizing: border-box;
        -webkit-tap-highlight-color: transparent;
    }
}

[hidden] {
    display: none !important;
}

.visibility-hidden {
    visibility: hidden;
    position: absolute;
}

p,
h1,
h2,
h3,
h4,
h5,
h6 {
    margin-top: 0;
    margin-bottom: 0;
    font-weight: inherit;
}

hr {
    border: 1px solid var(--color);
    border-width: 1px 0 0 0;
}

a {
    text-decoration: none;
    color: var(--link-color);
}
a:focus {
    outline: var(--focus-outline);
}
a:focus:not(:focus-visible) {
    outline: none;
}
a:hover {
    text-decoration: underline;
}

// details {
//     & > summary {
//         cursor: default;
//         user-select: none;
//         padding: 0.25rem;
//     }
//     & > summary:focus {
//         outline: var(--focus-outline);
//     }
//     & > summary:focus:where(:not(:focus-visible)) {
//         outline: none;
//     }
//     & > summary:hover {
//         // outline: var(--hover-outline);
//     }
//     & > summary:active {
//         background: var(--control-active-background);
//     }
// }

/* Arrow */
// .popover::before {
//     content: "";
//     position: absolute;
//     border: 8px solid transparent;
//     left: calc(50% - 8px * 0.866);

//     border-bottom-color: var(--border-color);
//     // bottom: -9px; // includes 1px toolbar border

//     // border-top-color: var(--border-color);
//     top: -16px;
// }
